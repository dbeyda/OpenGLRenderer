#shader vertex#version 410 corelayout(location = 0) in vec4 position;void main(){    // pass a fullscreen quad to the fragment shader, without any transformations    gl_Position = vec4(position.xy, 0.0f, 1.0f);};#shader fragment#version 410 corelayout(location = 0) out float output;// texture samplersuniform struct Samplers{    sampler2D MainSceneDepth;               // Scene depth buffer} samplers;uniform vec2 viewportSize;                  // output buffer dimensionsuniform float aperture;                     // aperture size of the camerauniform float focalLength;                  // focal length, a lens fixed propertyuniform float focusPlane;                   // distance from the camera to the plane in focusuniform float zfar;                         // far plane of the depth bufferuniform float znear;                        // near plane of the depth bufferfloat maxCoc = 0.015;void main(){    vec2 uv = gl_FragCoord.xy / viewportSize;    float z = texture(samplers.MainSceneDepth, uv).r;    // object distance directly from z buffer    float objectZ = -zfar * znear / (z * (zfar - znear) - zfar);    // from http://ivizlab.sfu.ca/papers/cgf2012.pdf    float coc = aperture * (abs(objectZ - focusPlane) / objectZ) * focalLength / (focusPlane - focalLength);    coc = pow(coc, 1.5);    output = clamp(coc, 0.0, maxCoc);    // for debugging    //color *= 10;};